{% load static %}

<!DOCTYPE html>
<html lang="en">
{% include "partials/static-imports.html" with title="Get FoCo | Household" %}

<body class="bg-secondary">
    <!-- Page container -->
    <div class="container py-5 mt-4 mt-lg-5 mb-lg-4 my-xl-5">
        <div class="row pt-sm-2 pt-lg-0">
            <!-- Page content -->
            <div class="col-lg-12 pt-4 pb-2 pb-sm-4">
                {% if not update_mode %}
                <h1 class="h2 mb-4">Household</h1>
                {% endif %}

                <div class="card">
                    <div class="card-body">
                        <django-formset class="bootstrap" endpoint="{{ request.path }}" csrf-token="{{ csrf_token }}">
                            <div class="row mb-4">
                                <div class="col-5">
                                    {% include "partials/steps.html" with active_step="household"%}
                                </div>
                                <div class="col-7">
                                    <div class="row g-3">
                                            {{ form_collection }}
                                    </div>
                                </div>
                            </div>

                            <div class="d-flex justify-content-between">
                                <a href="{% url 'app:address' %}?app_status=in_progress"
                                    class="btn btn-primary">Back</a>
                                {% if update_mode or renewal_mode %}
                                <button class="btn btn-primary" type="button" df-click="disable -> spinner -> submit -> okay(1000) -> proceed !~ enable -> bummer(1000)">
                                    Confirm
                                    <span class="dj-button-decorator"></span>
                                </button>
                                {% else %}
                                <button class="btn btn-primary" type="button" df-click="disable -> spinner -> submit -> okay(1000) -> proceed !~ enable -> bummer(1000)">
                                    Continue
                                    <span class="dj-button-decorator"></span>
                                </button>
                                {% endif %}
                            </div>
                        </django-formset>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% include "partials/footer.html" %}

    <!-- <script>
        document.addEventListener("DOMContentLoaded", function() {
            var submitButton = document.querySelector("button[type=submit]");
            submitButton.addEventListener('click', function (e) {
                var spinner = document.createElement('div');
                spinner.classList.add('spinner-border', 'spinner-border-sm', 'ms-2');
                submitButton.appendChild(spinner);
            });
        });
    </script> -->
</body>

</html>