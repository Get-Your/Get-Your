<!--
Get-Your is a platform for application and administration of income-
qualified programs, used primarily by the City of Fort Collins.
Copyright (C) 2022-2025

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
{% load static %}
{% load bootstrap_icons %}
<!DOCTYPE html>
<html lang="en">

{% include "partials/head.html" with title="Home" css="landing" %}

{# TODO: make a message to only look at this on mobile #}

<body>
    {% include "partials/environment_banner.html" with is_prod=is_prod db_env_str=db_env_str %}
    <nav class="navbar navbar-expand-lg bg-body-tertiary border-bottom">
        <div class="container">
            <a class="navbar-brand" href="#"><img width="100" height="40" src="{% static 'images/CityLogoGold-01.png' %}"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#how-it-works">How it Works</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#available-programs">Available Programs</a>
                    </li>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#check-availability">Check Availability</a>
                    </li>
                </ul>
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'account_login' %}">Log In</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="mb-5">
        <div class="container">
            <div id="intro">
                <div class="mt-3 pb-3 pb-md-0 d-flex flex-column flex-md-row justify-content-between align-items-center">
                    <h1>Welcome to <b>Get <span class="text-warning">FoCo</span></b></h1>
                    <a href="{% url 'app:get_ready' %}" class="btn btn-small btn-primary shadow-sm">Apply</a>
                </div>
                <div class="d-flex flex-column justify-content-center align-items-center flex-md-row">
                    <img class="me-0 me-md-4" width="300" height="200" src="{% static 'images/WelcomeIllustration.svg' %}" alt="Welcome">
                    <p class="mb-0 text-center text-md-start">An all-in-one application portal to the discounted services and municipal benefits offered by the City of Fort Collins, for income eligible residents. Get FoCo is a partnership between Fort Collins' Connexion and the City of Fort Collins' income eligible programming.</p>
                </div>
            </div>
            <hr>
            <div id="how-it-works">
                <h2 class="text-center">How it Works</h2>
                <p class="mb-1 text-center">With Get Foco, you'll be able to do more with your City of Fort Collins program applications than ever before.</p>
                <div class="card shadow-sm">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <span class="text-warning">{% bs_icon 'controller' size='7.0em' %}</span>
                            <p class="ms-4"><strong>Control Your Application</strong>: Manage applications in real time with up-to-date application status.</p>
                        </div>
                        <hr>
                        <div class="d-flex align-items-center">
                            <span class="text-warning">{% bs_icon 'cash-coin' size='7.0em' %}</span>
                            <p class="ms-4"><strong>Do More, Save More</strong>: If you qualify, you'll get access to specific City of Fort Collins' income qualified programs that are tailored to save you money.</p>
                        </div>
                        <hr>
                        <div class="d-flex align-items-center">
                            <span class="text-warning">{% bs_icon 'calendar2-check' size='7.0em' %}</span>
                            <p class="ms-4"><strong>Forget "Forgetting"</strong>: Never forget to renew your application with easy reminders - making information updates a breeze.</p>
                        </div>
                        <hr>
                        <div class="d-flex align-items-center">
                            <span class="text-warning">{% bs_icon 'chat-square-dots' size='7.0em' %}</span>
                            <p class="ms-4"><strong>Stay in the Know</strong>: Be informed with the latest news & updates from both <s>Connexion</s> & the City.</p>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div id="available-programs">
                <h2 class="mb-3 text-center">Available Income Eligible Programs</h2>
                <div class="mx-auto row">
                    {% for iq_program in iq_programs %}
                    <div class="col-12 col-md-6">
                        <div class="mb-2 card shadow-sm">
                            <div class="card-header text-center">
                                <h3>{{iq_program.friendly_name}}</h3>
                                <span>{{iq_program.friendly_category}}</span>
                            </div>
                            <div class="card-body">
                                <p>{{iq_program.friendly_description}}</p>
                                <p>{{iq_program.friendly_supplemental_info}}</p>
                                <a href="{{iq_program.learn_more_link}}" style="color: #F9B316;" target="_blank"> Learn More</a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            <hr>
            <div id="check-availability">
                <h2 class="text-center">Curious?</h2>
                <p class="text-center">Enter your address to check if you qualify for City of Fort Collins' income eligible programs.</p>
                {# TODO: Save input and add logic for checking zipcode #}
                <div class="mx-auto width-restricted">
                    <form action="{% url 'app:index' %}" method="post" autocomplete="false" enctype="multipart/form-data" class="mb-3 p-3 border rounded shadow-sm">
                        {% csrf_token %}
                        {# TODO: change this to dropdown menu with data #}
                        <div class="mb-3">
                            <label class="form-label fs-4" for="{{ form.address.id_for_label }}">Address</label>
                            <input class="form-control shadow-sm" name="{{ form.address.name }}" id="{{ form.address.id_for_label }}" maxlength="{{ form.address.max_length }}" type="text" required autocomplete="off">
                        </div>
                        <hr>
                        <div>
                            <button class="btn btn-primary" type="submit">Enter</button>
                        </div>
                    </form>
                </div>
                <div class="text-center">
                    <p>Service brought to you by the City of Fort Collins</p>
                    <a href="{% url 'app:privacy_policy' %}">Privacy Policy</a>
                </div>
            </div>
        </div>
    </main>
    <footer class="py-3 text-center bg-light border-top">
        Get FoCo - Copyright<sup>{% bs_icon 'c-circle' size='0.7em' %}</sup> {% now 'Y' %}
    </footer>

    <style>
        .swal2-container {
            position: fixed;
        }
    </style>

    <script>
        var inProgressAppSaved = "{{ in_progress_app_saved|yesno:'true,false' }}" === "true";

        $(document).ready(function () {
            if (inProgressAppSaved) {
                Swal.fire({
                    icon: "info",
                    title: "Logged Out",
                    text: "Your changes are saved. When you're ready to continue, log back in.",
                    confirmButtonColor: "#13467D",
                });
            }
        });
    </script>
</body>

</html>