<!--
Get-Your is a platform for application and administration of income-
qualified programs, used primarily by the City of Fort Collins.
Copyright (C) 2022-2025

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
{% load static %}

<!DOCTYPE html>
<html lang="en">
{% include "partials/static-imports.html" with title="Get FoCo | Household" %}

<body class="bg-secondary">
    <!-- Page container -->
    <div class="container py-5 mt-4 mt-lg-5 mb-lg-4 my-xl-5">
        <div class="row pt-sm-2 pt-lg-0">
            <!-- Page content -->
            <div class="col-lg-12 pt-4 pb-2 pb-sm-4">
                {% if not update_mode %}
                <h1 class="h2 mb-4">Household</h1>
                {% endif %}

                <div class="card">
                    <div class="card-body">
                        <form id="household-form" method="post" action="{% url 'app:household' %}"
                            class="needs-validation" novalidate autocomplete="false">
                            {% csrf_token %}
                            <div class="row mb-4">
                                <div class="col-5">
                                    {% include "partials/steps.html" with active_step="household"%}
                                </div>
                                <div class="col-7">
                                    <div class="row g-3">
                                        <div class="col-12">
                                            <p class="mb-0 form-label">
                                                Do you rent or own your current residence?
                                            </p>
                                            {% for choice in form.rent_own %}
                                            <div class="form-check">
                                                <!--  -->
                                                <input class="form-check-input" type="radio" name="rent_own"
                                                    value="{{choice.data.value}}" />
                                                <label class="form-label" for="{{choice.id_for_label}}">
                                                    {{ choice.choice_label }}
                                                </label>
                                            </div>
                                            {% endfor %}
                                        </div>

                                        <div class="col-12">
                                            <p class="mb-0 form-label">
                                                How long have you lived at this address?
                                            </p>
                                            {% for choice in form.duration_at_address %}
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="duration_at_address"
                                                    value="{{choice.data.value}}" />
                                                <label class="form-label" for="{{choice.id_for_label}}">
                                                    {{ choice.choice_label }}
                                                </label>
                                            </div>
                                            {% endfor %}
                                        </div>

                                        <div class="col-12">
                                            <label for="{{ form.number_persons_in_household.id_for_label}}"
                                                class="form-label">
                                                {{ form.number_persons_in_household.label }}
                                                <i class="gi-circle-info" data-bs-toggle="tooltip"
                                                    data-bs-placement="top" title="'Household' means the applicant and any other people claimed on your federal tax return. This could
                                                    include your spouse, and your children by birth or adoption, step children, foster children and
                                                    children under legal guardianship who live with you in your home as submitted on your federal income
                                                    tax return.">
                                                </i>
                                            </label>
                                            <input class="form-control" type="number" min="1"
                                                name="{{ form.number_persons_in_household.name }}"
                                                value="{{ form.number_persons_in_household.value|default:'' }}"
                                                id="{{ form.number_persons_in_household.id_for_label}}" required />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="d-flex justify-content-between">
                                <a href="{% url 'app:address' %}?app_status=in_progress"
                                    class="btn btn-primary">Back</a>
                                {% if update_mode or renewal_mode %}
                                <button class="btn btn-primary" type="submit">Confirm</button>
                                {% else %}
                                <button class="btn btn-primary" type="submit">
                                    Continue
                                </button>
                                {% endif %}
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% include "partials/footer.html" %}

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var submitButton = document.querySelector("button[type=submit]");
            submitButton.addEventListener('click', function (e) {
                var spinner = document.createElement('div');
                spinner.classList.add('spinner-border', 'spinner-border-sm', 'ms-2');
                submitButton.appendChild(spinner);
            });
        });
    </script>
</body>

</html>